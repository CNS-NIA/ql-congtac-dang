<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ thống Quản lý Công tác Đảng - Chi bộ Đội Thiết bị</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading" class="loading-overlay">
        <div class="spinner-border text-danger spinner-dang" role="status">
            <span class="visually-hidden">Đang tải...</span>
        </div>
        <p class="mt-3">Đang khởi tạo hệ thống...</p>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-dang fixed-top shadow">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" onclick="loadHome()">
                <i class="bi bi-flag-fill me-2"></i>
                ĐẢNG BỘ TRUNG TÂM KHAI THÁC KHU BAY NỘI BÀI
                <small class="d-block fw-normal">CHI BỘ ĐỘI THIẾT BỊ THÔNG TIN DẪN ĐƯỜNG</small>
            </a>
            
            <div class="d-flex align-items-center">
                <!-- Search Bar (trên desktop) -->
                <div class="d-none d-lg-block me-3">
                    <div class="input-group input-group-sm">
                        <input type="text" id="globalSearch" class="form-control" placeholder="Tìm kiếm...">
                        <button class="btn btn-outline-light" type="button">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                
                <!-- User Info -->
                <div class="dropdown">
                    <button class="btn btn-outline-light btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                        <i class="bi bi-person-circle me-1"></i>
                        <span id="currentUser">Trần Đỗ Hải</span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>Tài khoản</a></li>
                        <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Cài đặt</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="#"><i class="bi bi-box-arrow-right me-2"></i>Đăng xuất</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container-fluid main-container">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-2 col-md-3 sidebar pt-4 mt-5">
                <nav class="nav flex-column">
                    <button class="nav-link active mb-2" onclick="loadHome()">
                        <i class="bi bi-speedometer2 me-2"></i> Tổng quan
                    </button>
                    
                    <div class="sidebar-section">
                        <h6 class="sidebar-header">QUẢN LÝ TỔ CHỨC</h6>
                        <button class="nav-link mb-1" onclick="loadPage('chibo')">
                            <i class="bi bi-building me-2"></i> Chi bộ
                        </button>
                        <button class="nav-link mb-1" onclick="loadPage('dangvien')">
                            <i class="bi bi-people me-2"></i> Đảng viên
                        </button>
                        <button class="nav-link mb-1" onclick="loadPage('doanthe')">
                            <i class="bi bi-diagram-3 me-2"></i> Đoàn thể
                        </button>
                    </div>
                    
                    <div class="sidebar-section">
                        <h6 class="sidebar-header">VĂN BẢN NGHỊ QUYẾT</h6>
                        <button class="nav-link mb-1" onclick="loadPage('nghiquyet')">
                            <i class="bi bi-file-text me-2"></i> Nghị quyết
                        </button>
                        <button class="nav-link mb-1" onclick="loadPage('vanban')">
                            <i class="bi bi-folder me-2"></i> Văn bản
                        </button>
                        <button class="nav-link mb-1" onclick="loadPage('mau')">
                            <i class="bi bi-file-earmark me-2"></i> Mẫu biểu
                        </button>
                    </div>
                    
                    <div class="sidebar-section">
                        <h6 class="sidebar-header">CÔNG TÁC ĐẢNG</h6>
                        <button class="nav-link mb-1" onclick="loadPage('sinhhoat')">
                            <i class="bi bi-calendar-event me-2"></i> Sinh hoạt
                        </button>
                        <button class="nav-link mb-1" onclick="loadPage('khenthuong')">
                            <i class="bi bi-award me-2"></i> Khen thưởng
                        </button>
                        <button class="nav-link mb-1" onclick="loadPage('kyluat')">
                            <i class="bi bi-exclamation-triangle me-2"></i> Kỷ luật
                        </button>
                    </div>
                    
                    <div class="sidebar-section">
                        <h6 class="sidebar-header">BÁO CÁO</h6>
                        <button class="nav-link mb-1" onclick="loadPage('baocao')">
                            <i class="bi bi-bar-chart me-2"></i> Thống kê
                        </button>
                        <button class="nav-link mb-1" onclick="exportToExcel()">
                            <i class="bi bi-file-earmark-excel me-2"></i> Xuất Excel
                        </button>
                    </div>
                </nav>
                
                <!-- Quick Stats -->
                <div class="mt-4 p-3 bg-light rounded-3">
                    <h6 class="border-bottom pb-2 mb-2">
                        <i class="bi bi-graph-up me-1"></i> Thống kê nhanh
                    </h6>
                    <div class="row g-2 small-stats">
                        <div class="col-6">
                            <div class="stat-item">
                                <div class="stat-label">Chi bộ</div>
                                <div class="stat-value text-primary" id="statChiBo">1</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-item">
                                <div class="stat-label">Đảng viên</div>
                                <div class="stat-value text-success" id="statDangVien">0</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-item">
                                <div class="stat-label">Nghị quyết</div>
                                <div class="stat-value text-warning" id="statNghiQuyet">0</div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-item">
                                <div class="stat-label">Sinh hoạt</div>
                                <div class="stat-value text-info" id="statSinhHoat">0</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-10 col-md-9 content-area pt-4 mt-5">
                <!-- Breadcrumb -->
                <nav aria-label="breadcrumb" class="mb-3">
                    <ol class="breadcrumb" id="breadcrumb">
                        <li class="breadcrumb-item"><a href="#" onclick="loadHome()">Trang chủ</a></li>
                    </ol>
                </nav>
                
                <!-- Page Content -->
                <div id="content" class="fade-in">
                    <!-- Nội dung sẽ được load động vào đây -->
                </div>
                
                <!-- Footer -->
                <footer class="mt-5 pt-4 border-top">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Hệ thống Quản lý Công tác Đảng</h6>
                            <p class="text-muted small">Phiên bản 1.0.0</p>
                        </div>
                        <div class="col-md-6 text-md-end">
                            <p class="small text-muted">
                                &copy; 2026 - Chi bộ Đội Thiết bị Thông tin Dẫn đường<br>
                                Đảng bộ Trung tâm Khai thác Khu bay Nội Bài
                            </p>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal fade" id="modalThemDangVien" tabindex="-1">
        <!-- Modal thêm đảng viên -->
    </div>
    
    <div class="modal fade" id="modalThemNghiQuyet" tabindex="-1">
        <!-- Modal thêm nghị quyết -->
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="data.js"></script>
    <script src="utils.js"></script>
    <script src="app.js"></script>
</body>
</html>
