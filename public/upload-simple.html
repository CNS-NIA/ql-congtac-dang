<!DOCTYPE html>
<html>
<body style="padding:20px;font-family:Arial">
    <h2>üì§ Upload File JSON (Phi√™n b·∫£n ƒë∆°n gi·∫£n)</h2>
    
    <input type="file" id="fileInput" accept=".json">
    <button onclick="uploadFile()">Upload</button>
    
    <div id="result" style="margin-top:20px"></div>
    
    <script>
    async function uploadFile() {
        const fileInput = document.getElementById('fileInput');
        const file = fileInput.files[0];
        
        if (!file) {
            alert('Ch·ªçn file tr∆∞·ªõc');
            return;
        }
        
        const formData = new FormData();
        formData.append('jsonFile', file);
        
        const resultDiv = document.getElementById('result');
        resultDiv.innerHTML = '<p>ƒêang upload...</p>';
        
        try {
            const response = await fetch('/api/upload-json', {
                method: 'POST',
                body: formData
            });
            
            const data = await response.json();
            resultDiv.innerHTML = `
                <div style="background:#d4edda;padding:15px;border-radius:5px">
                    <h3>‚úÖ Th√†nh c√¥ng!</h3>
                    <p><strong>File:</strong> ${file.name}</p>
                    <p><strong>Chi b·ªô:</strong> ${data.chi_bo}</p>
                    <p><strong>S·ªë b·∫£n ghi:</strong> ${data.count}</p>
                    <p><strong>Th√¥ng b√°o:</strong> ${data.message}</p>
                </div>
            `;
            
        } catch (error) {
            resultDiv.innerHTML = `
                <div style="background:#f8d7da;padding:15px;border-radius:5px">
                    <h3>‚ùå L·ªói</h3>
                    <p>${error.message}</p>
                    <p>Ki·ªÉm tra console (F12) ƒë·ªÉ xem chi ti·∫øt</p>
                </div>
            `;
            console.error('Upload error:', error);
        }
    }
    </script>
</body>
</html>
